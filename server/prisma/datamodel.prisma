# datamodel.prisma
# See https://www.prisma.io/docs/datamodel-and-migrations/datamodel-MONGO-knun/

enum EventType {
  APP # any app/user/UI actions via client other than location updates
  LOC # an individual location update
  NONE # default (useful as a placeholder)
  OTHER # catch-all for anything else
  SYSTEM # server events
}

type Event {
  id: ID! @id # auto-assigned, readonly, using Prisma directive (auto-generated)
  t_created: DateTime! @createdAt # using Prisma system field directive (auto-generated)
  t_updated: DateTime! @updatedAt # using Prisma system field directive (auto-generated)

  t: Int! # canonical event timestamp. This is the only field that is strictly required to create.
  data: Json @default(value: "{}") # optional untyped, valid JSON associated with this event
  type: EventType @default(value: NONE) # helps interpret data field
  source: String # optional clientId that originated the event. Missing means the server is source of the event.
}
